sumeru.config({httpServerPort:8080,sumeruPath:"/../sumeru"}),sumeru.router.add({pattern:"/itworks",action:"App.itworks"}),App.itworks=sumeru.controller.create(function(e,t){e.onrender=function(e){e("itworks",["push","left"])}}),sumeru.router.add({pattern:"/helloworld",action:"App.helloworld"}),App.helloworld=sumeru.controller.create(function(e,t){e.onrender=function(e){e("helloworld",["push","left"])}}),sumeru.router.add({pattern:"/hall",action:"App.hall"}),App.hall=sumeru.controller.create(function(e,t){var n=function(){t.messages=e.subscribe("pub-message",function(e){t.bind("message-hall",{data:e.find()})})};e.onload=function(){return[n]},e.onrender=function(e){e("hall",["push","left"])},e.onready=function(){t.event("message-hall",function(){var e=document.getElementById("messageSubmit"),t=document.getElementById("clearHistory");e.addEventListener("click",r),t.addEventListener("click",i)})};var r=function(){var e=document.getElementById("messageInput"),n=e.value.trim();return""==n?!1:(t.messages.add({content:n}),t.messages.save(),e.value="",void 0)},i=function(){t.messages.destroy(),t.messages.save()}}),Model.message=function(e){e.config={fields:[{name:"content",type:"text"},{name:"time",type:"datetime",defaultValue:"now()"}]}};